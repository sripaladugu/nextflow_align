workDir = 's3://sripaladugu/work-dir/'

// Configuration for the NGS pipeline.
params {
    // path to the gzipped FASTQ read files
    fastq = "s3://sripaladugu/fastqs/ERR194146_[12].fastq.gz"
    genome_file = "s3://ngi-igenomes/igenomes/Homo_sapiens/Ensembl/GRCh37/Sequence/BWAIndex/genome.fa"
    results_dir = "s3://sripaladugu/results/"
}


aws {
    batch {
        cliPath = '/home/ec2-user/miniconda/bin/aws' 
    }
    accessKey = ""
    secretKey = ""
}

process {

    executor = 'awsbatch'
    queue = 'nextflow-batch-queue'

    // configure expected resource usage
    
    withName:mapping {
        container = "sripaladugu/samtools-bwa:v0.1"
        cpus = 1
        memory = 40.GB
    }
}

docker {
    enabled = true
}

trace {
  enabled = true
  file = 'trace_pipeline.txt'
  fields = 'task_id,hash,native_id,process,tag,name,container,status,exit,start,complete,duration,realtime,%cpu,rss,vmem,peak_rss,peak_vmem'
  raw = false
}

timeline {
  enabled = true
  file = 'timeline.html'
}
